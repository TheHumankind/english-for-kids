(()=>{"use strict";var e={224:(e,t,n)=>{n.r(t)},864:(e,t,n)=>{n.r(t)},877:(e,t,n)=>{n.r(t)},94:(e,t,n)=>{n.r(t)},213:(e,t,n)=>{n.r(t)},752:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const s=n(977),r=n(939),a=n(91),d=n(764),o=n(42),c=n(444),l=n(464),h=n(498),u=n(481),m=n(614),p=n(279),v=n(24);n(187),n(877),n(94),n(213),n(864),n(224);const g=n(538),f=n(899);let L=!1;t.App=class{constructor(e){this.static=new h.Stat,this.menuCards=[],this.header=new s.Header,this.modeTrigger=new d.ModeTrigger,this.headerLogo=new a.HeaderLogo,this.headerBurger=new r.HeaderBurger,this.mainMenu=new c.CardsField,this.logInBtn=new v.LogInBtn,this.aside=new o.Aside,this.rootElement=e,this.btns=new u.GameBtn(this.menuCards),this.createMain(),this.createHeader(),this.createAsidePanel(),this.createBtn(),this.createScoreField()}createMain(){return i(this,void 0,void 0,(function*(){this.mainMenu.createHeader("Main menu"),this.mainMenu.addCardsField(),yield this.fillMenu(),this.rootElement.appendChild(this.mainMenu.element),this.createTaskFromAside()}))}fillMenu(){return i(this,void 0,void 0,(function*(){this.mainMenu.cards.innerHTML="",this.menuCards=[];const e=yield fetch("https://evening-refuge-21780.herokuapp.com/api/categories/"),t=yield e.json();this.aside.fillAside("main-menu"),t.forEach((e=>{if(this.aside.fillAside(e.name),"main menu"===e.name||"statistic"===e.name)return;const t=new l.Card(e.name,e.img);this.createTaskCards(t.element,e.name),window.location.hash="/main",this.menuCards.push(t.element),this.mainMenu.cards.appendChild(t.element)})),this.aside.fillAside("statistic")}))}createTaskCards(e,t){e.addEventListener("click",(()=>{this.mainMenu.cards.innerHTML="",this.mainMenu.cardSet.cardSetFill(t,this.mainMenu.cards,L),m.changeActiveLi(t.replace(/ /g,"-"))}))}createScoreField(){const e=document.createElement("div");e.id="scoreField",e.classList.add("stat"),this.rootElement.append(e)}createTaskFromAside(){const e=document.getElementById("score"),t=this.mainMenu.header.firstChild;this.aside.liList.forEach((n=>{"main-menu"===n.id?n.addEventListener("click",(()=>{this.mainMenu.cards.innerHTML="",this.menuCards.forEach((e=>{const n=e.querySelector(".front");!0===L?null==n||n.classList.remove("trane"):null==n||n.classList.add("trane"),this.mainMenu.cards.appendChild(e),this.static.removeReset(),t.innerText="main menu"})),this.aside.element.classList.remove("left-active"),this.headerBurger.element.classList.remove("header__burger-active"),m.changeActiveLi(n.id)})):"statistic"===n.id?n.addEventListener("click",(()=>{this.mainMenu.cards.innerHTML="",null==e||e.appendChild(this.static.resetBtn.reset),this.static.appendHeader(this.mainMenu.cards),this.static.statList.fillStatList(),this.static.statList.fillStatField(this.mainMenu.cards),t.innerText="score",this.aside.element.classList.remove("left-active"),this.headerBurger.element.classList.remove("header__burger-active"),m.changeActiveLi(n.id)})):n.addEventListener("click",(()=>{this.mainMenu.cards.innerHTML="",this.mainMenu.cardSet.cardSetFill(n.id,this.mainMenu.cards,L),this.static.removeReset(),this.aside.element.classList.remove("left-active"),this.headerBurger.element.classList.remove("header__burger-active"),m.changeActiveLi(n.id)}))}))}triggerListner(){this.modeTrigger.element.addEventListener("click",(()=>{const e=document.querySelectorAll(".front"),t=document.querySelectorAll(".back"),n=document.querySelectorAll(".descr"),i=document.getElementById("start");this.modeTrigger.element.classList.contains("header__mode-active")?(this.modeTrigger.element.classList.remove("header__mode-active"),e.forEach((e=>{e.classList.add("trane")})),t.forEach((e=>{e.classList.add("trane")})),n.forEach((e=>{e.style.display="flex"})),L=!1,i.disabled=!0,document.querySelectorAll(".panel").forEach((e=>{e.remove()})),i.classList.add("disabled"),i.classList.remove("active")):(this.modeTrigger.element.classList.add("header__mode-active"),e.forEach((e=>{e.classList.remove("trane")})),t.forEach((e=>{e.classList.remove("trane")})),n.forEach((e=>{e.style.display="none"})),L=!0,document.querySelectorAll(".card").forEach((e=>{const t=document.createElement("div");t.classList.add("panel"),e.appendChild(t)})),i.disabled=!1,i.classList.remove("disabled"),i.classList.add("active"))}))}burgerListner(){document.getElementById("burgerMenu");const e=document.querySelector("body");e&&(this.headerBurger.element.addEventListener("click",(()=>{this.headerBurger.element.classList.contains("header__burger-active")?(this.headerBurger.element.classList.remove("header__burger-active"),this.aside.element.classList.remove("left-active")):(this.headerBurger.element.classList.add("header__burger-active"),this.aside.element.classList.add("left-active"))})),e.addEventListener("click",(e=>{const t=e.target;"burger"!==t.id&&"burgerMenu"!==t.id&&"span"!==t.tagName&&"SPAN"!==t.tagName&&(this.headerBurger.element.classList.remove("header__burger-active"),this.aside.element.classList.remove("left-active"))})))}createHeader(){this.header.element.appendChild(this.headerBurger.element),this.header.element.appendChild(this.headerLogo.element),this.header.element.appendChild(this.modeTrigger.element),this.rootElement.appendChild(this.header.element),this.triggerListner(),this.burgerListner()}createCardMenu(e){this.mainMenu.createHeader(e)}createAsidePanel(){this.rootElement.appendChild(this.aside.element),this.aside.element.append(this.logInBtn.element),this.logInBtn.element.addEventListener("click",(()=>{const e=new p.LogInField,t=new g.AdminHeader,n=new f.AdminMenu;this.rootElement.append(e.element);const s=[this.header.element,this.mainMenu.element,this.btns.element],r=[t.element,n.element];e.continueInstruction(this.rootElement,s,r);const a=()=>i(this,void 0,void 0,(function*(){this.aside.ul.innerHTML="",this.aside.liList=[],yield this.fillMenu(),this.createTaskFromAside(),r.forEach((e=>{e.remove()})),this.rootElement.append(...s),t.logOut.removeEventListener("click",a)}));t.logOut.addEventListener("click",a)}))}createBtn(){this.rootElement.appendChild(this.btns.element)}}},363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdminCardsHeader=void 0;const i=n(583);class s extends i.BaseComponent{constructor(e,t,n){super("div",["header-for-cat"]),this.backBtn=document.createElement("button"),this.prevElements=e,this.element.innerText=`Category: ${t}`,this.back(n)}back(e){this.element.append(this.backBtn),this.backBtn.innerText="Back",this.backBtn.addEventListener("click",(()=>{e.innerHTML="",e.append(...this.prevElements)}))}}t.AdminCardsHeader=s},899:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminMenu=void 0;const s=n(583),r=n(99);class a extends s.BaseComponent{constructor(){super("div",["admin"]),this.fillCatCards()}fillCatCards(){return i(this,void 0,void 0,(function*(){this.element.innerHTML="";const e=yield fetch("https://evening-refuge-21780.herokuapp.com/api/categories/");(yield e.json()).forEach((e=>i(this,void 0,void 0,(function*(){const t=new r.AdminMenuCard(e.name,e.words,this.element);this.element.append(t.element)})))),this.addCreateBtn()}))}addCreateBtn(){const e=document.createElement("div");e.classList.add("admin-category-card"),e.innerText="+",e.style.fontSize="46px",e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){e.remove();const t=yield fetch("https://evening-refuge-21780.herokuapp.com/api/categories/",{method:"POST"}),n=yield t.json(),i=new r.AdminMenuCard(n.name,n.words,this.element);this.element.append(i.element,e)})))),this.element.append(e)}}t.AdminMenu=a},99:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminMenuCard=void 0;const s=n(583),r=n(363),a=n(452);class d extends s.BaseComponent{constructor(e,t,n){super("div",["admin-category-card"]),this.catName=document.createElement("h4"),this.words=document.createElement("div"),this.update=document.createElement("button"),this.addWord=document.createElement("button"),this.updateInput=document.createElement("input"),this.updateCancelBtn=document.createElement("button"),this.updateOkBtn=document.createElement("button"),this.close=document.createElement("div"),this.rootElement=n,this.catLength=t,this.allCategories=[...n.children],this.category=e,this.fillCard(e,t),this.updateCategory(),this.showWordList(),this.deleteCat()}fillCard(e,t){this.close.classList.add("close"),this.catName.innerText=`${e}`,this.words.innerHTML=`words: ${t}`,this.update.innerHTML="Update",this.addWord.innerHTML="Add word",this.updateOkBtn.innerText="Update",this.updateCancelBtn.innerText="Cancel",this.element.appendChild(this.close),this.element.append(this.close,this.catName,this.words,this.update,this.addWord)}updateCategory(){this.update.addEventListener("click",(e=>{this.updateInput.value=`${this.catName.innerText}`;const t=[...this.element.children];this.element.innerHTML="",this.element.append(this.updateInput,this.updateOkBtn,this.updateCancelBtn),this.cancelUpdateListner(t),this.okUpdateListner(t)}))}deleteCat(){this.close.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){console.log(this.category);const e=yield fetch(`https://evening-refuge-21780.herokuapp.com/api/categories/${this.category}`,{method:"DELETE",mode:"cors"});console.log(e),this.element.remove()}))))}cancelUpdateListner(e){this.updateCancelBtn.addEventListener("click",(()=>{this.element.innerHTML="",this.element.append(...e)}))}okUpdateListner(e){const t=()=>i(this,void 0,void 0,(function*(){if(""!==this.updateInput.value){this.element.innerHTML="",this.catName.innerText=this.updateInput.value.replace(/ /g,"-"),this.element.append(...e);const n={name:this.updateInput.value.replace(/ /g,"-")};(yield fetch(`https://evening-refuge-21780.herokuapp.com/api/categories/${this.category}`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}))||(this.category=this.updateInput.value.replace(/ /g,"-"),this.updateOkBtn.removeEventListener("click",t))}else alert("name cannot be of length 0")}));this.updateOkBtn.addEventListener("click",t)}showWordList(){return i(this,void 0,void 0,(function*(){this.addWord.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){this.allCategories=[...this.rootElement.children],this.rootElement.innerHTML="";const e=new r.AdminCardsHeader(this.allCategories,this.category,this.rootElement);this.rootElement.append(e.element);const t=yield fetch(`https://evening-refuge-21780.herokuapp.com/api/categories/${this.category}`);(yield t.json()).forEach((e=>{const t=new a.AdminWord(e.name,e.nameRus,this.category,e.img);t.delete.addEventListener("click",(()=>{this.words.innerHTML="words: "+--this.catLength})),this.rootElement.append(t.element)})),this.addCreateBtn()}))))}))}addCreateBtn(){const e=document.createElement("div");e.classList.add("admin-category-card"),e.innerText="+",e.style.fontSize="46px",e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){e.remove();const t=yield fetch(`https://evening-refuge-21780.herokuapp.com/api/categories/add/${this.category}/word`,{method:"GET"}),n=yield t.json(),i=new a.AdminWord(n.name,n.nameRus,this.category,n.img);this.words.innerHTML="words: "+ ++this.catLength,this.rootElement.append(i.element),this.rootElement.append(e)})))),this.rootElement.append(e)}}t.AdminMenuCard=d},538:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdminHeader=void 0;const i=n(583);class s extends i.BaseComponent{constructor(){super("div",["admin-header"]),this.logOut=document.createElement("button"),this.catecories=document.createElement("div"),this.words=document.createElement("div"),this.addSettingsToElements()}addSettingsToElements(){this.logOut.innerText="Log Out",this.words.innerText="words",this.catecories.innerText="categories",this.element.append(this.catecories,this.words,this.logOut)}}t.AdminHeader=s},452:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminWord=void 0;const s=n(583),r=n(99);class a extends s.BaseComponent{constructor(e,t,n,i){super("div",["admin-category-card"]),this.wordEng=document.createElement("h5"),this.wordRus=document.createElement("h5"),this.sound=document.createElement("div"),this.image=document.createElement("div"),this.change=document.createElement("button"),this.delete=document.createElement("button"),this.close=document.createElement("div"),this.audio=document.createElement("audio"),this.insideImg=document.createElement("img"),this.engWord=e,this.rusWord=t,this.category=n,this.img=i,this.fillCard(),this.deleteWord()}fillCard(){this.wordEng.innerText=`${this.engWord}`,this.wordRus.innerText=`${this.rusWord}`,this.sound.innerText=`${this.engWord}.mp3`,this.audio.src=`./audio/${this.engWord}.mp3`,this.engWord.includes("default")&&(this.audio.src="./audio/default.mp3"),this.sound.append(this.audio),this.sound.addEventListener("click",(()=>{this.audio.play()})),this.insideImg.src=`${this.img}`,this.image.classList.add("admin-image"),this.image.append(this.insideImg),this.change.innerText="Change",this.delete.innerText="Delete",this.element.append(this.wordEng,this.wordRus,this.sound,this.image,this.change,this.delete),this.change.addEventListener("click",this.updateCardData),this.updateCardData()}deleteWord(){this.delete.addEventListener("click",(()=>{fetch(`https://evening-refuge-21780.herokuapp.com/api/categories/${this.category}/${this.engWord}`,{method:"DELETE",mode:"cors"}),this.element.remove()}))}updateCardData(){this.change.addEventListener("click",(()=>{new FileReader;const e=[...this.element.children],t=document.createElement("input");t.value=this.engWord;const n=document.createElement("input");n.value=this.rusWord;const i=document.createElement("input");i.type="file";const s=document.createElement("input");s.type="file";const r=document.createElement("button");r.innerText="cancel";const a=document.createElement("button");a.innerText="confirm",this.element.innerHTML="",this.element.append(t,n,i,s,r,a),this.changeImage(s),this.changeAudio(i),this.cancelTransfer(r,e),this.okTransfer(a,e,t,n)}))}cancelTransfer(e,t){e.addEventListener("click",(()=>{this.element.innerHTML="",this.element.append(...t)}))}okTransfer(e,t,n,s){e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){const e={name:n.value,nameRus:s.value,audio:this.audio.src,img:this.insideImg.src,category:this.category};this.element.innerHTML="",console.log(this.engWord);const i=yield fetch(`https://evening-refuge-21780.herokuapp.com/api/categories/${this.category}/${this.engWord}/${this.rusWord}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),r=yield i.json();r.name&&(this.wordEng.innerHTML=`${r.name}`,this.wordRus.innerHTML=`${r.nameRus}`,this.insideImg.src=`${r.img}`,this.audio.src=`${r.audio}`,this.sound.innerText=`${r.name}.mp3`),this.element.append(...t)}))))}changeImage(e){e.addEventListener("change",(t=>{const n=new Image,i=new FileReader;null!==e.files&&(i.onload=()=>{this.insideImg.src=String(i.result)},i.readAsDataURL(e.files[0]),this.insideImg.src=n.src)}))}changeAudio(e){e.addEventListener("change",(t=>{const n=new Audio,i=new FileReader;null!==e.files&&(i.onload=()=>{this.audio.src=String(i.result),n.src=String(i.result)},i.readAsDataURL(e.files[0]),this.audio.src=n.src)}))}addCreateBtn(){const e=document.createElement("div");e.classList.add("admin-category-card"),e.innerText="+",e.style.fontSize="46px",e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){e.remove();const t=yield fetch("https://evening-refuge-21780.herokuapp.com/api/categories/",{method:"POST"}),n=yield t.json(),i=new r.AdminMenuCard(n.name,n.words,this.element);this.element.append(i.element,e)})))),this.element.append(e)}}t.AdminWord=a},42:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Aside=void 0;const i=n(583);class s extends i.BaseComponent{constructor(){super("aside",["left"]),this.ul=document.createElement("ul"),this.liList=[],this.element.id="burgerMenu",this.element.appendChild(this.ul)}fillAside(e){const t=document.createElement("li");return t.id=`${e.replace(/ /g,"-")}`,t.innerText=`\n                ${e}\n            `,"main-menu"===t.id&&t.classList.add("active-li"),this.ul.appendChild(t),this.liList.push(t),t}}t.Aside=s},24:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogInBtn=void 0,t.LogInBtn=class{constructor(){this.element=document.createElement("button"),this.element.classList.add("log-in-btn"),this.element.innerHTML="Log In"}appendBtn(e){e.append(this.element)}}},279:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogInField=void 0;const i=n(583);class s extends i.BaseComponent{constructor(){super("section",["log-in-field"]),this.form=document.createElement("form"),this.logInput=document.createElement("input"),this.passwordInput=document.createElement("input"),this.cancelBtn=document.createElement("button"),this.continueBtn=document.createElement("button"),this.appendForm(),this.cancelLogIn()}appendForm(){this.form.classList.add("form"),this.form.id="form",this.element.appendChild(this.form),this.appentToForm(this.form)}appentToForm(e){this.logInput.classList.add("input"),this.passwordInput.classList.add("input"),this.cancelBtn.classList.add("button"),this.continueBtn.classList.add("button"),this.cancelBtn.innerText="Cancel",this.continueBtn.innerText="Continue",this.form.append(this.logInput,this.passwordInput,this.cancelBtn,this.continueBtn)}cancelLogIn(){this.cancelBtn.addEventListener("click",(()=>{this.element.remove()}))}continueInstruction(e,t,n){this.continueBtn.addEventListener("click",(()=>{"admin"===this.logInput.value&&"admin"===this.passwordInput.value?(t.forEach((e=>{e.remove()})),this.element.remove(),e.append(...n)):this.element.remove()}))}}t.LogInField=s},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},641:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CardSet=void 0;const s=n(413);t.CardSet=class{constructor(e){this.arrOfCards=[],this.parentElement=e}cardSetFill(e,t,n){return i(this,void 0,void 0,(function*(){window.location.hash=`/${e.replace(/ /g,"-")}`;const i=yield fetch(`https://evening-refuge-21780.herokuapp.com/api/categories/${e}`),s=yield i.json();document.createElement("img").src="./img/rotate.png",s.forEach((i=>{this.createGameCard(i.name,i.nameRus,e,t,n)}));const r=document.getElementById("header-Main-menu");r&&(r.innerHTML=`${e}`)}))}createGameCard(e,t,n,i,r){const a=document.createElement("div"),d=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),l=document.createElement("img"),h=document.createElement("img"),u=document.createElement("div");if(a.id=`${e}`,c.id=`${e}-descr`,l.src=`./img/${n.replace(/ /g,"-")}/${e}.png`,l.id=`${e}-image`,h.src="./img/rotate.png",d.classList.add("card-sides"),o.classList.add("front"),o.id=`${e}-front`,c.classList.add("descr"),l.classList.add("img"),a.classList.add("card"),c.innerText=`${e}`,h.classList.add("rotate"),c.appendChild(h),o.appendChild(l),u.classList.add("back"),u.id=`${e}-back`,o.appendChild(c),!1===r&&(u.classList.add("trane"),o.classList.add("trane")),!0===r){c.style.display="none";const e=document.createElement("div");e.classList.add("panel"),a.appendChild(e)}u.innerHTML=`\n                <img class="img" id="${e}-image-back" src="./img/${n.replace(/ /g,"-")}/${e}.png" alt="${e}">\n                <div class="descr" id="${e}-descr-back"> \n                    ${t}\n                </div>\n            `;const m=document.createElement("audio");m.src=`./audio/${e}.mp3`,a.appendChild(m),d.appendChild(o),d.appendChild(u),e.includes("default")&&(m.src="./audio/default.mp3",l.src="./img/404-Not-Found.png"),a.appendChild(d),this.parentElement.appendChild(a),this.arrOfCards.push(a),this.rotateCard(a,d,u),function(e,t){e.addEventListener("click",(e=>{const n=e.target;n.classList.contains("rotate")||n.classList.contains("panel")||n.id.includes("back")||(s.LocalTrane(n.id.split("-")[0]),t.play())}))}(a,m)}rotateCard(e,t,n){e.addEventListener("click",(e=>{e.target.classList.contains("rotate")&&(t.classList.add("card-sides-active"),n.style.transform="rotateY(0deg)")})),this.parentElement.addEventListener("mouseover",(e=>{e.target.classList.contains("cards")&&(t.classList.remove("card-sides-active"),n.style.transform="rotateY(-180deg)")}))}rewriteField(){this.parentElement.innerHTML="",this.arrOfCards.forEach((e=>{this.parentElement.appendChild(e)}))}}},444:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0;const i=n(583),s=n(641);class r extends i.BaseComponent{constructor(){super("section",["block"]),this.header=document.createElement("div"),this.cards=document.createElement("div"),this.cardSet=new s.CardSet(this.cards),this.header.classList.add("block__header"),this.addCardsField()}createHeader(e){const t=document.createElement("h2");t.id="setHeader";const n=document.createElement("div");t.classList.add("block__descr"),t.id=`header-${e.replace(/ /g,"-")}`,t.innerText=`${e}`,n.classList.add("block__score"),n.id=`score-${e.replace(/ /g,"-")}`,this.header.appendChild(t),this.header.appendChild(function(){const e=document.createElement("div");return e.id="score",e}()),this.element.appendChild(this.header)}addCardsField(){this.cards.classList.add("cards"),this.cards.id="cardsField",this.element.appendChild(this.cards)}}t.CardsField=r},464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0;const i=n(583);class s extends i.BaseComponent{constructor(e,t){super("div",["card"]),this.element.innerHTML=`\n        <div class="card-sides">\n            <div class="front trane">\n                <img class="img" src="${t}" alt="${e}">\n                <div class="descr-menu"> \n                    ${e}\n                </div>\n            </div>\n        </div>\n        `}}t.Card=s},614:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeActiveLi=void 0,t.changeActiveLi=function(e){const t=document.getElementById(e),n=document.querySelector(".active-li");null==t||t.classList.add("active-li"),null==n||n.classList.remove("active-li")}},481:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameBtn=void 0;const i=n(583),s=n(229);class r extends i.BaseComponent{constructor(e){super("div",["start"]),this.menuArr=e,this.game=new s.Game(this.menuArr),this.createStartBtn(),this.createRepeatBtn()}createStartBtn(){const e=document.createElement("button");e.classList.add("start-btn","disabled"),e.id="start",e.innerText="start",e.disabled=!0,this.element.appendChild(e),e.addEventListener("click",(e=>{this.game.gameStart()}))}createRepeatBtn(){const e=document.createElement("button");e.classList.add("repeat-btn","disabled"),e.id="repeat",e.disabled=!0,e.innerText="repeat",this.element.appendChild(e)}}t.GameBtn=r},229:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const i=n(210),s=n(614);function r(e){const t=document.getElementById("cardsField");t&&(t.innerHTML="",e.forEach((e=>{if(e.childNodes[1].childNodes[1]){const t=e.childNodes[1].childNodes[1];t.classList.contains("trane")&&t.classList.remove("trane")}t.appendChild(e)})),s.changeActiveLi("main-menu"))}function a(e){let t,n;for(let i=e.length-1;i>0;i--)t=Math.floor(Math.random()*(i+1)),n=e[t],e[t]=e[i],e[i]=n;return e}function d(e){const t=document.querySelectorAll(".star"),n=document.getElementById("score"),i=document.createElement("img");i.classList.add("star"),i.src=`./img/star-${e}.png`,t.length>=9?(null==n||n.insertBefore(i,t[0]),t[8].remove()):null==n||n.appendChild(i)}t.Game=class{constructor(e){this.CURRENT_SCORE=0,this.MISS=0,this.menuArr=e}gameStart(){0!==document.querySelectorAll("audio").length&&(this.SOUNDS_LIST=a(Array.prototype.slice.call(document.querySelectorAll("audio"))),function(e){const t=document.getElementById("cardsField");t&&(t.innerHTML="",e.forEach((e=>{t.appendChild(e)})))}(a(Array.prototype.slice.call(function(){const e=document.querySelectorAll(".card");return e.forEach((e=>{const t=document.createElement("div");t.classList.add("panel"),e.appendChild(t)})),function(){const e=document.getElementById("start"),t=document.getElementById("repeat");t.disabled=!1,e.disabled=!0,e.classList.add("disabled"),e.classList.remove("active"),t.classList.add("active"),t.classList.remove("disabled")}(),e}()))),this.CURRENT_SOUND=this.SOUNDS_LIST[this.CURRENT_SCORE],this.CURRENT_SOUND.play(),this.panelListner(),this.repeatSound(),this.liEvent())}panelListner(){document.querySelectorAll(".panel").forEach((e=>{e.addEventListener("click",(()=>this.checkAnswer(e)))}))}checkAnswer(e){var t;if(e.parentElement&&this.SOUNDS_LIST)if(!0===(null===(t=e.parentElement)||void 0===t?void 0:t.contains(this.CURRENT_SOUND))){if(e.classList.add("panel-active"),i.LocalCheckAnswer(e.parentElement.id,!0),d(!0),7===this.CURRENT_SCORE)return void this.isGameEnd();this.CURRENT_SOUND=this.SOUNDS_LIST[++this.CURRENT_SCORE],function(e){const t=document.createElement("audio");t.src="./audio/correct.mp3",t.play(),t.addEventListener("ended",(()=>{e.play()}))}(this.CURRENT_SOUND)}else{if(e.classList.contains("panel-active"))return;!function(){const e=document.createElement("audio");e.src="./audio/classic_hurt.mp3",e.play()}(),i.LocalCheckAnswer(e.parentElement.id,!1),d(!1),this.MISS+=1}}repeatSound(){const e=document.getElementById("repeat");null==e||e.addEventListener("click",(()=>{var e;null===(e=this.CURRENT_SOUND)||void 0===e||e.play()}))}liEvent(){const e=document.querySelectorAll("li"),t=()=>this.isGameEnd();e.forEach((e=>{e.addEventListener("click",t)}))}isGameEnd(){!function(){const e=document.getElementById("score");e&&(e.innerHTML="")}(),document.querySelectorAll(".panel").forEach((e=>{e.remove()})),document.querySelectorAll(".card").forEach((e=>{const t=document.createElement("div");t.classList.add("panel"),e.appendChild(t)})),this.MISS>0?(function(e,t){const n=document.createElement("audio"),i=document.createElement("div"),s=document.getElementById("app");i.innerHTML=`Burn in hell pls. ${e} mistakes are too many`,i.classList.add("over"),n.src="./audio/no.mp3",n.play(),null==s||s.appendChild(i),n.addEventListener("ended",(()=>{i.remove()})),r(t)}(this.MISS,this.menuArr),this.CURRENT_SCORE=0,this.MISS=0):0===this.MISS&&this.CURRENT_SCORE>0&&(this.CURRENT_SCORE=0,this.MISS=0,function(e){const t=document.createElement("audio"),n=document.createElement("div"),i=document.getElementById("app");r(e),n.innerHTML="0 mistakes, uncle Sam is proud of you!",n.classList.add("over","over-win"),t.src="./audio/arigato.mp3",t.play(),null==i||i.appendChild(n),t.addEventListener("ended",(()=>{n.remove()}))}(this.menuArr)),function(){const e=document.getElementById("start"),t=document.getElementById("repeat");t.disabled=!0,e.disabled=!1,e.classList.remove("disabled"),e.classList.add("active"),t.classList.remove("active"),t.classList.add("disabled")}()}}},939:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderBurger=void 0;const i=n(583);class s extends i.BaseComponent{constructor(){super("div",["header__burger"]),this.element.innerHTML="\n            <span></span>\n            <span></span>\n            <span></span>\n        ",this.element.id="burger"}}t.HeaderBurger=s},91:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderLogo=void 0;const i=n(583);class s extends i.BaseComponent{constructor(){super("h1",["header__logo"]),this.element.innerText="English For Kids"}}t.HeaderLogo=s},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const i=n(583);class s extends i.BaseComponent{constructor(){super("div",["header"])}}t.Header=s},764:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModeTrigger=void 0;const i=n(583);class s extends i.BaseComponent{constructor(){super("div",["header__mode"]),this.element.innerHTML="\n            <div class=\"header__mode-circle\" id='triggerInner'>\n            </div>\n        ",this.element.id="triggerOuter"}}t.ModeTrigger=s},559:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Category=void 0,t.Category=function(e){return n(this,void 0,void 0,(function*(){let t="";return e<=7&&(t="plants"),e<=15&&e>7&&(t="adjective"),e<=23&&e>15&&(t="animals-(set-A)"),e<=31&&e>23&&(t="animals-(set-B)"),e<=39&&e>31&&(t="clothes"),e<=47&&e>39&&(t="nature"),e<=55&&e>47&&(t="insects"),e<=63&&e>55&&(t="food"),t}))}},210:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalCheckAnswer=void 0,t.LocalCheckAnswer=function(e,t){return n(this,void 0,void 0,(function*(){const n=window.localStorage.getItem(e);if(!n)return;const i=JSON.parse(n);!1===t?i.error+=1:i.correct+=1,i.wrong=+(100/(i.correct+i.error)*i.error).toFixed(1),window.localStorage.setItem(i.name,JSON.stringify(i))}))}},519:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalInit=void 0;const s=n(559);t.LocalInit=function(){return i(this,void 0,void 0,(function*(){const e=yield fetch("./json/localList.json"),t=yield e.json();t[0].menu.forEach((e=>i(this,void 0,void 0,(function*(){const n=s.Category(t[0].menu.indexOf(e)),i={name:e,nameRus:t[0].menuRus[t[0].menu.indexOf(e)],category:yield n,trane:0,correct:0,wrong:0,error:0};window.localStorage.setItem(e,JSON.stringify(i))}))))}))}},413:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalTrane=void 0,t.LocalTrane=function(e){return n(this,void 0,void 0,(function*(){const t=window.localStorage.getItem(e);if(!t)return;const n=JSON.parse(t);n.trane+=1,window.localStorage.setItem(n.name,JSON.stringify(n))}))}},924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResetScore=void 0,t.ResetScore=class{constructor(){this.reset=document.createElement("button"),this.reset.id="reset",this.reset.innerText="reset"}appendReset(e){e.append(this.reset)}}},726:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatsHeader=void 0,t.StatsHeader=class{constructor(){this.headerContainer=document.createElement("div"),this.word=document.createElement("div"),this.translation=document.createElement("div"),this.category=document.createElement("div"),this.click=document.createElement("div"),this.correct=document.createElement("div"),this.wrong=document.createElement("div"),this.errors=document.createElement("div"),this.headerContainer.id="statsHeader",this.headerContainer.classList.add("stat-point"),this.word.innerText="word",this.word.id="word",this.translation.innerText="translate",this.translation.id="translation",this.category.innerText="category",this.category.id="category",this.click.innerText="traned",this.click.id="traned",this.correct.innerText="correct",this.correct.id="correct",this.wrong.innerText="wrong, %",this.wrong.id="wrong",this.errors.innerText="errors",this.errors.id="errors",this.headerContainer.append(this.word,this.translation,this.category,this.click,this.correct,this.errors,this.wrong)}}},662:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatsList=void 0;const i=n(908);t.StatsList=class{constructor(){this.statList=[],this.trueStat=[]}fillStatList(){this.statList=[],this.trueStat=[];for(const e in window.localStorage){const t=window.localStorage.getItem(e);if("length"===e||null===t)return;this.statList.push(JSON.parse(t)),this.trueStat.push(i.createTablePoint(JSON.parse(t)))}}fillStatField(e){this.trueStat.forEach((t=>{e.append(t)}))}refillTrueStat(e){this.trueStat=[],this.statList.forEach((e=>{this.trueStat.push(i.createTablePoint(e))})),this.fillStatField(e)}}},908:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTablePoint=void 0,t.createTablePoint=function(e){const t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),o=document.createElement("div");return t.classList.add("stat-point"),n.innerText=`${e.name}`,i.innerText=`${e.nameRus}`,s.innerText=`${e.category.split("-")[0]}`,r.innerText=`${e.trane}`,a.innerText=`${e.correct}`,d.innerText=`${e.wrong}`,o.innerText=`${e.error}`,t.append(n,i,s,r,a,o,d),t}},498:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{o(i.next(e))}catch(e){r(e)}}function d(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Stat=void 0;const s=n(726),r=n(924),a=n(662),d=n(519);t.Stat=class{constructor(){this.header=new s.StatsHeader,this.statList=new a.StatsList,this.resetBtn=new r.ResetScore,this.triger=!0,this.correctSort(),this.traneSort(),this.errorsSort(),this.wrongSort(),this.wordSort(),this.categorySort(),this.translateSort(),this.statList.fillStatList()}appendHeader(e){e.append(this.header.headerContainer)}correctSort(){this.header.correct.addEventListener("click",(()=>{!0===this.triger?(this.statList.statList.sort((function(e,t){return e.correct-t.correct})),this.triger=!1):(this.statList.statList.sort((function(e,t){return t.correct-e.correct})),this.triger=!0);const e=document.getElementById("cardsField");e&&(e.innerHTML="",this.appendHeader(e),this.statList.refillTrueStat(e))}))}traneSort(){this.header.click.addEventListener("click",(()=>{!0===this.triger?(this.statList.statList.sort((function(e,t){return e.trane-t.trane})),this.triger=!1):(this.statList.statList.sort((function(e,t){return t.trane-e.trane})),this.triger=!0);const e=document.getElementById("cardsField");e&&(e.innerHTML="",this.appendHeader(e),this.statList.refillTrueStat(e))}))}errorsSort(){this.header.errors.addEventListener("click",(()=>{!0===this.triger?(this.statList.statList.sort((function(e,t){return e.error-t.error})),this.triger=!1):(this.statList.statList.sort((function(e,t){return t.error-e.error})),this.triger=!0);const e=document.getElementById("cardsField");e&&(e.innerHTML="",this.appendHeader(e),this.statList.refillTrueStat(e))}))}wrongSort(){this.header.wrong.addEventListener("click",(()=>{!0===this.triger?(this.statList.statList.sort((function(e,t){return e.wrong-t.wrong})),this.triger=!1):(this.statList.statList.sort((function(e,t){return t.wrong-e.wrong})),this.triger=!0);const e=document.getElementById("cardsField");e&&(e.innerHTML="",this.appendHeader(e),this.statList.refillTrueStat(e))}))}wordSort(){this.header.word.addEventListener("click",(()=>{!0===this.triger?(console.log("click"),this.statList.statList.sort(((e,t)=>e.name>t.name?1:-1)),this.triger=!1):(this.statList.statList.sort(((e,t)=>e.name<t.name?1:-1)),this.triger=!0);const e=document.getElementById("cardsField");e&&(e.innerHTML="",this.appendHeader(e),this.statList.refillTrueStat(e))}))}translateSort(){this.header.translation.addEventListener("click",(()=>{!0===this.triger?(console.log("click"),this.statList.statList.sort(((e,t)=>e.nameRus>t.nameRus?1:-1)),this.triger=!1):(this.statList.statList.sort(((e,t)=>e.nameRus<t.nameRus?1:-1)),this.triger=!0);const e=document.getElementById("cardsField");e&&(e.innerHTML="",this.appendHeader(e),this.statList.refillTrueStat(e))}))}categorySort(){this.header.category.addEventListener("click",(()=>{!0===this.triger?(console.log("click"),this.statList.statList.sort(((e,t)=>e.category>t.category?1:-1)),this.triger=!1):(this.statList.statList.sort(((e,t)=>e.category<t.category?1:-1)),this.triger=!0);const e=document.getElementById("cardsField");e&&(e.innerHTML="",this.appendHeader(e),this.statList.refillTrueStat(e))}))}appendReset(){const e=document.getElementById("score");e&&(this.resetBtn.appendReset(e),this.resetTable())}removeReset(){this.resetBtn.reset.remove();const e=document.getElementById("score");e&&(e.innerHTML="")}resetTable(){const e=document.getElementById("cardsField");e&&this.resetBtn.reset.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){window.localStorage.clear(),yield d.LocalInit(),e.innerHTML="",this.appendHeader(e),this.statList.fillStatList(),this.statList.fillStatField(e)}))))}}},187:e=>{e.exports=JSON.parse('[{"menu":["main menu","animals (set A)","animals (set B)","food","nature","insects","plants","clothes","adjective","statistic"]}]')}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(752),t=n(519);window.onload=()=>{const n=document.querySelector("body");n&&(n.id="app",new e.App(n),window.localStorage.getItem("bat")||t.LocalInit())}})()})();