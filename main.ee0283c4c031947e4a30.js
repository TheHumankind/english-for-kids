(()=>{"use strict";var e={864:(e,t,n)=>{n.r(t)},877:(e,t,n)=>{n.r(t)},94:(e,t,n)=>{n.r(t)},213:(e,t,n)=>{n.r(t)},752:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function d(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const i=n(977),s=n(939),r=n(91),d=n(764),c=n(42),o=n(444),l=n(464);n(187),n(877),n(94),n(213),n(864);const u=n(481);let m=!1;t.App=class{constructor(e){this.menuCards=[],this.header=new i.Header,this.modeTrigger=new d.ModeTrigger,this.headerLogo=new r.HeaderLogo,this.headerBurger=new s.HeaderBurger,this.aside=new c.Aside,this.mainMenu=new o.CardsField,this.btns=new u.GameBtn,this.rootElement=e,this.createHeader(),this.createMain(),this.createAsidePanel(),this.createBtn()}createMain(){return a(this,void 0,void 0,(function*(){this.mainMenu.createHeader("Main menu"),this.mainMenu.addCardsField(),yield this.fillMenu(),this.rootElement.appendChild(this.mainMenu.element),this.createTaskFromAside()}))}fillMenu(){return a(this,void 0,void 0,(function*(){const e=yield fetch("./json/main-menu.json");(yield e.json())[0].menu.forEach((e=>{if(this.aside.fillAside(e),"main menu"===e||"statistic"===e)return;const t=new l.Card(e);this.createTaskCards(t.element,e),window.location.hash="/main",this.menuCards.push(t.element),this.mainMenu.cards.appendChild(t.element)}))}))}createTaskCards(e,t){e.addEventListener("click",(()=>{this.mainMenu.cards.innerHTML="",this.mainMenu.cardSet.cardSetFill(t,this.mainMenu.cards,m)}))}createTaskFromAside(){this.aside.liList.forEach((e=>{"main-menu"!==e.id?e.addEventListener("click",(()=>{this.mainMenu.cards.innerHTML="",this.mainMenu.cardSet.cardSetFill(e.id,this.mainMenu.cards,m)})):e.addEventListener("click",(()=>{this.mainMenu.cards.innerHTML="",this.menuCards.forEach((e=>{const t=e.querySelector(".front");!0===m?null==t||t.classList.remove("trane"):null==t||t.classList.add("trane"),this.mainMenu.cards.appendChild(e)}))}))}))}triggerListner(){this.modeTrigger.element.addEventListener("click",(()=>{const e=document.querySelectorAll(".front"),t=document.querySelectorAll(".back"),n=document.querySelectorAll(".descr"),a=document.getElementById("start");this.modeTrigger.element.classList.contains("header__mode-active")?(this.modeTrigger.element.classList.remove("header__mode-active"),e.forEach((e=>{e.classList.add("trane")})),t.forEach((e=>{e.classList.add("trane")})),n.forEach((e=>{e.style.display="flex"})),m=!1,a.disabled=!0,document.querySelectorAll(".panel").forEach((e=>{e.remove()})),a.classList.add("disabled"),a.classList.remove("active")):(this.modeTrigger.element.classList.add("header__mode-active"),e.forEach((e=>{e.classList.remove("trane")})),t.forEach((e=>{e.classList.remove("trane")})),n.forEach((e=>{e.style.display="none"})),m=!0,document.querySelectorAll(".card").forEach((e=>{const t=document.createElement("div");t.classList.add("panel"),e.appendChild(t)})),a.disabled=!1,a.classList.remove("disabled"),a.classList.add("active"))}))}burgerListner(){document.getElementById("burgerMenu"),this.headerBurger.element.addEventListener("click",(()=>{this.headerBurger.element.classList.contains("header__burger-active")?(this.headerBurger.element.classList.remove("header__burger-active"),this.aside.element.classList.remove("left-active")):(this.headerBurger.element.classList.add("header__burger-active"),this.aside.element.classList.add("left-active"))}))}createHeader(){this.header.element.appendChild(this.headerBurger.element),this.header.element.appendChild(this.headerLogo.element),this.header.element.appendChild(this.modeTrigger.element),this.rootElement.appendChild(this.header.element),this.triggerListner(),this.burgerListner()}createCardMenu(e){this.mainMenu.createHeader(e)}createAsidePanel(){this.rootElement.appendChild(this.aside.element)}createBtn(){this.rootElement.appendChild(this.btns.element)}}},42:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Aside=void 0;const a=n(583);class i extends a.BaseComponent{constructor(){super("aside",["left"]),this.ul=document.createElement("ul"),this.liList=[],this.element.id="burgerMenu",this.element.appendChild(this.ul)}fillAside(e){const t=document.createElement("li");t.id=`${e.replace(/ /g,"-")}`,t.innerText=`\n                ${e}\n            `,this.ul.appendChild(t),this.liList.push(t)}}t.Aside=i},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},641:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function d(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CardSet=void 0;const i=n(413);t.CardSet=class{constructor(e){this.arrOfCards=[],this.parentElement=e}cardSetFill(e,t,n){return a(this,void 0,void 0,(function*(){window.location.hash=`/${e.replace(/ /g,"-")}`;const a=yield fetch(`./json/${e.replace(/ /g,"-")}.json`),i=yield a.json();document.createElement("img").src="./img/rotate.png",i[0].menu.forEach((a=>{this.createGameCard(a,i[0].menuRus[i[0].menu.indexOf(a)],e,t,n)}));const s=document.getElementById("header-Main-menu");s&&(s.innerHTML=`${e}`)}))}createGameCard(e,t,n,a,s){const r=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),l=document.createElement("img"),u=document.createElement("img"),m=document.createElement("div");if(r.id=`${e}`,o.id=`${e}-descr`,l.src=`./img/${n.replace(/ /g,"-")}/${e}.png`,l.id=`${e}-image`,u.src="./img/rotate.png",d.classList.add("card-sides"),c.classList.add("front"),c.id=`${e}-front`,o.classList.add("descr"),l.classList.add("img"),r.classList.add("card"),o.innerText=`${e}`,u.classList.add("rotate"),o.appendChild(u),c.appendChild(l),m.classList.add("back"),m.id=`${e}-back`,c.appendChild(o),!1===s&&(m.classList.add("trane"),c.classList.add("trane")),!0===s){o.style.display="none";const e=document.createElement("div");e.classList.add("panel"),r.appendChild(e)}m.innerHTML=`\n                <img class="img" id="${e}-image-back" src="./img/${n.replace(/ /g,"-")}/${e}.png" alt="${e}">\n                <div class="descr" id="${e}-descr-back"> \n                    ${t}\n                </div>\n            `;const h=document.createElement("audio");h.src=`./audio/${e}.mp3`,r.appendChild(h),d.appendChild(c),d.appendChild(m),r.appendChild(d),this.parentElement.appendChild(r),this.arrOfCards.push(r),this.rotateCard(r,d,m),function(e,t){e.addEventListener("click",(e=>{const n=e.target;n.classList.contains("rotate")||n.classList.contains("panel")||(i.LocalTrane(n.id.split("-")[0]),t.play())}))}(r,h)}rotateCard(e,t,n){e.addEventListener("click",(e=>{e.target.classList.contains("rotate")&&(t.classList.add("card-sides-active"),n.style.transform="rotateY(0deg)")})),this.parentElement.addEventListener("mouseover",(e=>{e.target.classList.contains("cards")&&(t.classList.remove("card-sides-active"),n.style.transform="rotateY(-180deg)")}))}rewriteField(){this.parentElement.innerHTML="",this.arrOfCards.forEach((e=>{this.parentElement.appendChild(e)}))}}},444:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0;const a=n(583),i=n(641);class s extends a.BaseComponent{constructor(){super("section",["block"]),this.header=document.createElement("div"),this.cards=document.createElement("div"),this.cardSet=new i.CardSet(this.cards),this.header.classList.add("block__header"),this.addCardsField()}createHeader(e){const t=document.createElement("h2");t.id="setHeader";const n=document.createElement("div");t.classList.add("block__descr"),t.id=`header-${e.replace(/ /g,"-")}`,t.innerText=`${e}`,n.classList.add("block__score"),n.id=`score-${e.replace(/ /g,"-")}`,this.header.appendChild(t),this.header.appendChild(function(){const e=document.createElement("div");return e.id="score",e.id="score",e}()),this.element.appendChild(this.header)}addCardsField(){this.cards.classList.add("cards"),this.cards.id="cardsField",this.element.appendChild(this.cards)}}t.CardsField=s},464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0;const a=n(583);class i extends a.BaseComponent{constructor(e){super("div",["card"]),this.element.innerHTML=`\n        <div class="card-sides">\n            <div class="front trane">\n                <img class="img" src="./img/main-menu/${e.replace(/ /g,"-")}.png" alt="${e}">\n                <div class="descr-menu"> \n                    ${e}\n                </div>\n            </div>\n        </div>\n        `}}t.Card=i},481:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameBtn=void 0;const a=n(583),i=n(229);class s extends a.BaseComponent{constructor(){super("div",["start"]),this.game=new i.Game,this.createStartBtn(),this.createRepeatBtn()}createStartBtn(){const e=document.createElement("button");e.classList.add("start-btn","disabled"),e.id="start",e.innerText="start",e.disabled=!0,this.element.appendChild(e),e.addEventListener("click",(e=>{this.game.gameStart()}))}createRepeatBtn(){const e=document.createElement("button");e.classList.add("repeat-btn","disabled"),e.id="repeat",e.disabled=!0,e.innerText="repeat",this.element.appendChild(e)}}t.GameBtn=s},229:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const a=n(210);function i(e){let t,n;for(let a=e.length-1;a>0;a--)t=Math.floor(Math.random()*(a+1)),n=e[t],e[t]=e[a],e[a]=n;return e}function s(e){const t=document.querySelectorAll(".star"),n=document.getElementById("score"),a=document.createElement("img");a.classList.add("star"),a.src=`./img/star-${e}.png`,t.length>=9?(null==n||n.insertBefore(a,t[0]),t[9].remove()):null==n||n.appendChild(a)}t.Game=class{constructor(){this.CURRENT_SCORE=0,this.MISS=0}gameStart(){0!==document.querySelectorAll("audio").length&&(this.SOUNDS_LIST=i(Array.prototype.slice.call(document.querySelectorAll("audio"))),function(e){const t=document.getElementById("cardsField");t&&(t.innerHTML="",e.forEach((e=>{t.appendChild(e)})))}(i(Array.prototype.slice.call(function(){const e=document.querySelectorAll(".card");return e.forEach((e=>{const t=document.createElement("div");t.classList.add("panel"),e.appendChild(t)})),function(){const e=document.getElementById("start"),t=document.getElementById("repeat");t.disabled=!1,e.disabled=!0,e.classList.add("disabled"),e.classList.remove("active"),t.classList.add("active"),t.classList.remove("disabled")}(),e}()))),this.CURRENT_SOUND=this.SOUNDS_LIST[this.CURRENT_SCORE],this.CURRENT_SOUND.play(),this.panelListner(),this.repeatSound(),this.liEvent())}panelListner(){document.querySelectorAll(".panel").forEach((e=>{e.addEventListener("click",(()=>this.checkAnswer(e)))}))}checkAnswer(e){var t;if(e.parentElement&&this.SOUNDS_LIST)if(!0===(null===(t=e.parentElement)||void 0===t?void 0:t.contains(this.CURRENT_SOUND))){if(e.classList.add("panel-active"),a.LocalCheckAnswer(e.parentElement.id,!0),s(!0),7===this.CURRENT_SCORE)return void this.isGameEnd();this.CURRENT_SOUND=this.SOUNDS_LIST[++this.CURRENT_SCORE],this.CURRENT_SOUND.play()}else!function(){const e=document.createElement("audio");e.src="./audio/classic_hurt.mp3",e.play()}(),a.LocalCheckAnswer(e.parentElement.id,!1),s(!1),this.MISS+=1}repeatSound(){const e=document.getElementById("repeat");null==e||e.addEventListener("click",(()=>{var e;null===(e=this.CURRENT_SOUND)||void 0===e||e.play()}))}liEvent(){const e=document.querySelectorAll("li"),t=()=>this.isGameEnd();e.forEach((e=>{e.addEventListener("click",t)}))}isGameEnd(){!function(){const e=document.getElementById("score");e&&(e.innerHTML="")}(),document.querySelectorAll(".panel").forEach((e=>{e.remove()})),document.querySelectorAll(".card").forEach((e=>{const t=document.createElement("div");t.classList.add("panel"),e.appendChild(t)})),this.MISS>0?(this.CURRENT_SCORE=0,this.MISS=0,function(){const e=document.createElement("audio"),t=document.createElement("div"),n=document.getElementById("app");t.classList.add("over"),e.src="./audio/no.mp3",e.play(),null==n||n.appendChild(t),e.addEventListener("ended",(()=>{t.remove()}))}()):0===this.MISS&&this.CURRENT_SCORE>0&&(this.CURRENT_SCORE=0,this.MISS=0,function(){const e=document.createElement("audio"),t=document.createElement("div"),n=document.getElementById("app");t.classList.add("over","over-win"),e.src="./audio/arigato.mp3",e.play(),null==n||n.appendChild(t),e.addEventListener("ended",(()=>{t.remove()}))}()),function(){const e=document.getElementById("start"),t=document.getElementById("repeat");t.disabled=!0,e.disabled=!1,e.classList.remove("disabled"),e.classList.add("active"),t.classList.remove("active"),t.classList.add("disabled")}()}}},939:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderBurger=void 0;const a=n(583);class i extends a.BaseComponent{constructor(){super("div",["header__burger"]),this.element.innerHTML="\n            <span></span>\n            <span></span>\n            <span></span>\n        ",this.element.id="burger"}}t.HeaderBurger=i},91:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderLogo=void 0;const a=n(583);class i extends a.BaseComponent{constructor(){super("h1",["header__logo"]),this.element.innerText="English For Kids"}}t.HeaderLogo=i},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const a=n(583);class i extends a.BaseComponent{constructor(){super("div",["header"])}}t.Header=i},764:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModeTrigger=void 0;const a=n(583);class i extends a.BaseComponent{constructor(){super("div",["header__mode"]),this.element.innerHTML="\n            <div class=\"header__mode-circle\" id='triggerInner'>\n            </div>\n        ",this.element.id="triggerOuter"}}t.ModeTrigger=i},559:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function d(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Category=void 0,t.Category=function(e){return n(this,void 0,void 0,(function*(){let t="";return e<=7&&(t="plants"),e<=15&&e>7&&(t="adjective"),e<=23&&e>15&&(t="animals-(set-A)"),e<=31&&e>23&&(t="animals-(set-B)"),e<=39&&e>31&&(t="clothes"),e<=47&&e>39&&(t="nature"),e<=55&&e>47&&(t="insects"),e<=63&&e>55&&(t="food"),t}))}},210:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function d(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalCheckAnswer=void 0,t.LocalCheckAnswer=function(e,t){return n(this,void 0,void 0,(function*(){const n=window.localStorage.getItem(e);if(!n)return;const a=JSON.parse(n);!1===t?a.wrong+=1:a.correct+=1,a.error=+(a.correct/a.wrong*100).toFixed(1),window.localStorage.setItem(a.name,JSON.stringify(a))}))}},519:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function d(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalInit=void 0;const i=n(559);t.LocalInit=function(){return a(this,void 0,void 0,(function*(){const e=yield fetch("./json/localList.json"),t=yield e.json();t[0].menu.forEach((e=>a(this,void 0,void 0,(function*(){const n=i.Category(t[0].menu.indexOf(e)),a={name:e,nameRus:t[0].menuRus[t[0].menu.indexOf(e)],categoty:yield n,trane:0,correct:0,wrong:0,error:0};window.localStorage.setItem(e,JSON.stringify(a))}))))}))}},413:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function d(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalTrane=void 0,t.LocalTrane=function(e){return n(this,void 0,void 0,(function*(){const t=window.localStorage.getItem(e);if(!t)return;const n=JSON.parse(t);n.trane+=1,window.localStorage.setItem(n.name,JSON.stringify(n))}))}},187:e=>{e.exports=JSON.parse('[{"menu":["main menu","animals (set A)","animals (set B)","food","nature","insects","plants","clothes","adjective","statistic"]}]')}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(752),t=n(519);window.onload=()=>{const n=document.querySelector("body");n&&(n.id="app",new e.App(n),window.localStorage.getItem("bat")||t.LocalInit())}})()})();